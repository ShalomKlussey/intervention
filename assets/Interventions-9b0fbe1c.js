import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{a as f,V as I,b as _,c as p,d as v}from"./VContainer-b200fe20.js";import{W as T,o as g,d as x,w as t,l as c,b as e,U as V,k as d,a3 as h,j as r,T as y,a4 as D,i}from"./index-c8d845ea.js";import{V as U}from"./VBreadcrumbs-d3f9430d.js";import{a as S,b as R,V as m}from"./VToolbar-5708c3fb.js";import{a as b,V as o}from"./VDialog-9ea479e4.js";import{V as u}from"./VRow-8f71f634.js";import{V as M,a as X}from"./VTextarea-76890015.js";const w={data:()=>({dialog:!1,dialogDelete:!1,headers:[{title:"Parc",align:"start",sortable:!1,key:"name"},{title:"Locations",key:"location"},{title:"Extincteur",key:"extenteurs"},{title:"Intervention",key:"interventions"},{title:"Date début",key:"date_creation"},{title:"Date fin",key:"date_fin"},{title:"Statut",key:"statut"},{title:"Actions",key:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:"",location:"",extenteurs:"",interventions:"",date_creation:"",date_fin:"",statut:""},defaultItem:{name:"",location:"",extenteurs:"",interventions:"",date_creation:"",date_fin:"",statut:""}}),computed:{formTitle(){return this.editedIndex===-1?"New Item":"Edit Item"}},watch:{dialog(l){l||this.close()},dialogDelete(l){l||this.closeDelete()}},created(){this.initialize()},methods:{initialize(){this.desserts=[{name:"IMC",location:"Restaurant",extenteurs:"EXTIMC002",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"},{name:"Total Energie",location:"Salle des serveurs",extenteurs:"EXTTE001",interventions:"Nettoyage",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En cours (20 %)"},{name:"SCG",location:"Restaurant",extenteurs:"EXTSCG044",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"},{name:"SCG",location:"Restaurant",extenteurs:"EXTSCG044",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"},{name:"Total Energie",location:"Salle des serveurs",extenteurs:"EXTTE001",interventions:"Nettoyage",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En cours (20 %)"},{name:"Total Energie",location:"Salle des serveurs",extenteurs:"EXTTE001",interventions:"Nettoyage",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En cours (20 %)"},{name:"IMC",location:"Restaurant",extenteurs:"EXTIMC002",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"},{name:"IMC",location:"Restaurant",extenteurs:"EXTIMC002",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"},{name:"IMC",location:"Restaurant",extenteurs:"EXTIMC002",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"},{name:"IMC",location:"Restaurant",extenteurs:"EXTIMC002",interventions:"Installation",date_creation:"22-09-2023",date_fin:"02-10-2023",statut:"En attente"}]},editItem(l){this.editedIndex=this.desserts.indexOf(l),this.editedItem=Object.assign({},l),this.dialog=!0},deleteItem(l){this.editedIndex=this.desserts.indexOf(l),this.editedItem=Object.assign({},l),this.dialogDelete=!0},deleteItemConfirm(){this.desserts.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},N=c("div",null,null,-1),O={class:"text-h5"};function j(l,n,z,B,P,s){const C=T("v-data-table");return g(),x(f,null,{default:t(()=>[c("div",null,[e(U,null,{default:t(()=>[e(V,{size:"small",color:"blue-darken-2"},{default:t(()=>[d("mdi-home")]),_:1}),d(" Interventions")]),_:1})]),N,e(I,null,{default:t(()=>[e(C,{headers:l.headers,items:l.desserts,"sort-by":[{key:"calories",order:"asc"}],class:"elevation-1"},{top:t(()=>[e(S,{flat:""},{default:t(()=>[e(R,null,{default:t(()=>[d("Liste des interventions")]),_:1}),e(h,{class:"mx-4",inset:"",vertical:""}),e(m),e(b,{modelValue:l.dialog,"onUpdate:modelValue":n[7]||(n[7]=a=>l.dialog=a),"max-width":"500px"},{activator:t(({props:a})=>[e(r,y({color:"primary",dark:"",class:"mb-2"},a),{default:t(()=>[d(" Planifier ")]),_:2},1040)]),default:t(()=>[e(I,null,{default:t(()=>[e(_,null,{default:t(()=>[c("span",O,D(s.formTitle),1)]),_:1}),e(p,null,{default:t(()=>[e(f,null,{default:t(()=>[e(u,null,{default:t(()=>[e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.name,"onUpdate:modelValue":n[0]||(n[0]=a=>l.editedItem.name=a),label:"Parc"},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.location,"onUpdate:modelValue":n[1]||(n[1]=a=>l.editedItem.location=a),label:"Location"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.extenteurs,"onUpdate:modelValue":n[2]||(n[2]=a=>l.editedItem.extenteurs=a),label:"Extincteur"},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.interventions,"onUpdate:modelValue":n[3]||(n[3]=a=>l.editedItem.interventions=a),label:"Intervention"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(o,null,{default:t(()=>[e(i,{type:"date",modelValue:l.editedItem.date_creation,"onUpdate:modelValue":n[4]||(n[4]=a=>l.editedItem.date_creation=a),label:"Début"},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(i,{type:"date",modelValue:l.editedItem.date_fin,"onUpdate:modelValue":n[5]||(n[5]=a=>l.editedItem.date_fin=a),label:"Fin"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(o,null,{default:t(()=>[e(i,{label:"Responsable"})]),_:1}),e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.statut,"onUpdate:modelValue":n[6]||(n[6]=a=>l.editedItem.statut=a),label:"Statut"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(m),e(r,{color:"blue-darken-1",variant:"text",onClick:s.close},{default:t(()=>[d(" Cancel ")]),_:1},8,["onClick"]),e(r,{color:"blue-darken-1",variant:"text",onClick:s.save},{default:t(()=>[d(" Save ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(b,{modelValue:l.dialogDelete,"onUpdate:modelValue":n[12]||(n[12]=a=>l.dialogDelete=a),"max-width":"500px"},{default:t(()=>[e(I,null,{default:t(()=>[e(_,{class:"text-h5"},{default:t(()=>[d("Rapport d'intervention")]),_:1}),e(p,null,{default:t(()=>[e(f,null,{default:t(()=>[e(u,null,{default:t(()=>[e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.name,"onUpdate:modelValue":n[8]||(n[8]=a=>l.editedItem.name=a),label:"Parc"},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(i,{modelValue:l.editedItem.extenteurs,"onUpdate:modelValue":n[9]||(n[9]=a=>l.editedItem.extenteurs=a),label:"Extincteur"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(o,null,{default:t(()=>[e(i,{type:"date",modelValue:l.editedItem.date_creation,"onUpdate:modelValue":n[10]||(n[10]=a=>l.editedItem.date_creation=a),label:"Début"},null,8,["modelValue"])]),_:1}),e(o,null,{default:t(()=>[e(i,{type:"date",modelValue:l.editedItem.date_fin,"onUpdate:modelValue":n[11]||(n[11]=a=>l.editedItem.date_fin=a),label:"Fin"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(M,{clearable:"",label:"Joindre un document"})]),_:1}),e(u,null,{default:t(()=>[e(X,{label:"Note"})]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(m),e(r,{color:"blue-darken-1",variant:"text",onClick:s.closeDelete},{default:t(()=>[d("Annuler")]),_:1},8,["onClick"]),e(r,{color:"blue-darken-1",variant:"text",onClick:s.deleteItemConfirm},{default:t(()=>[d("Clôturer")]),_:1},8,["onClick"]),e(m)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":t(({item:a})=>[e(V,{size:"small",class:"me-2",onClick:k=>s.editItem(a.raw)},{default:t(()=>[d(" mdi-pencil ")]),_:2},1032,["onClick"]),e(V,{size:"small",onClick:k=>s.deleteItem(a.raw)},{default:t(()=>[d(" mdi-file-clock ")]),_:2},1032,["onClick"])]),"no-data":t(()=>[e(r,{color:"primary",onClick:s.initialize},{default:t(()=>[d(" Reset ")]),_:1},8,["onClick"])]),_:1},8,["headers","items"])]),_:1})]),_:1})}const K=E(w,[["render",j]]);export{K as default};
